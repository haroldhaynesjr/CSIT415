<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>PopcornPicks (Dummy Data)</title>
  <!-- React, ReactDOM, Babel (CDN) -->
  <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
  <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
  <style>
    body {
      font-family: Proxima Nova, sans-serif;
      margin: 0;
      padding: 0;
      text-align: center;
    }
    .container {
      max-width: 600px;
      margin: 20px auto;
      padding: 20px;
    }
    input {
      width: 80%;
      padding: 10px;
      margin-top: 10px;
      font-size: 16px;
    }
    button {
      padding: 10px;
      font-size: 16px;
      margin-left: 5px;
    }
    .movie {
      border: 1px solid #ccc;
      padding: 10px;
      margin: 10px 0;
    }
  </style>
</head>
<body>
  <div id="root"></div>

  <script type="text/babel">
    // 1. Define your dummy data here in the frontend
    const dummyMovies = [
      {
        id: 1,
        title: "John Wick",
        rating: 7.4,
        description: "An ex-hitman comes out of retirement to track down the gangsters who killed his dog."
      },
      {
        id: 2,
        title: "Inception",
        rating: 8.8,
        description: "A thief who steals corporate secrets through dream-sharing technology."
      },
      {
        id: 3,
        title: "The Matrix",
        rating: 8.7,
        description: "A computer hacker learns about the true nature of his reality."
      }
    ];

    function App() {
      // State for the search input
      const [searchQuery, setSearchQuery] = React.useState("");
      // State for the movie data
      const [movies, setMovies] = React.useState(dummyMovies);

      // 2. If you want to mimic "trending/popular" on initial load,
      //    you can keep them in state as-is. There's no fetch call here.

      // 3. Handle search locally (filter dummy data by title)
      const handleSearch = () => {
        const query = searchQuery.trim().toLowerCase();
        if (query === "") {
          // If empty, reset to all dummy movies
          setMovies(dummyMovies);
        } else {
          // Filter movies by title
          const filtered = dummyMovies.filter(movie =>
            movie.title.toLowerCase().includes(query)
          );
          setMovies(filtered);
        }
      };

      return (
        <div className="container">
          <h1>Welcome to PopcornPicks</h1>
          <p>Start choosing your favorite movies below!</p>

          {/* Search Bar */}
          <input
            type="text"
            placeholder="Search..."
            value={searchQuery}
            onChange={(e) => setSearchQuery(e.target.value)}
          />
          <button onClick={handleSearch}>Search</button>

          <h2>Movies</h2>
          {movies.length > 0 ? (
            movies.map(movie => (
              <div className="movie" key={movie.id}>
                <h3>{movie.title}</h3>
                <p>{movie.description}</p>
                <p>Rating: {movie.rating}</p>
              </div>
            ))
          ) : (
            <p>No movies found.</p>
          )}
        </div>
      );
    }

    const root = ReactDOM.createRoot(document.getElementById("root"));
    root.render(<App />);
  </script>
</body>
</html>
